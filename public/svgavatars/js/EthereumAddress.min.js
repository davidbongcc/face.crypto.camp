"use strict";var EthUtil=window.modules.EthUtil,jobsCnt=0,getPKeyIter=function(e,t){var r=$.Deferred();return setTimeout(function(){for(var n=0;t>n;n++){var i=EthUtil.sha3(e.value);e.value=EthUtil.bufferToHex(i)}r.resolve()},0),r.promise};window.modules.EthereumAddress={prefixed:function(e){return e.startsWith("0x")?e:"0x"+e},notPrefixed:function(e){return e.startsWith("0x")?e.substring(2,e.length):e},isValid:function(e){return/^(0x)?[0-9a-fA-F]{40}$/.test(e)},generatePKey:function(e){var t=$.deferred();if(/^(0x)?[0-9a-fA-F]{64}$/.test(e))return t.resolve(this.prefixed(e)),t.promise;var r={value:e},n=++jobsCnt;return getPKeyIter(r).then(function(){return n!=jobsCnt?!1:getPKeyIter(r,1e3)}).then(function(){return n!=jobsCnt?!1:getPKeyIter(r,1031)}).then(function(e){return 0==e?void t.reject():void t.resolve(r.value)}),t.promise},getFromPKey:function(e){return 66!=e.length?void 0:EthUtil.bufferToHex(EthUtil.privateToAddress(e))}};